<class name="messenger config">
    Contains messenger configuration.

    <property name="messenger url" class="str mutable"/>
    <property name="contact discovery url" class="str mutable"/>
    <property name="ejabberd url" class="str mutable"/>
    <property name="ca bundle" class="str mutable"/>
    <property name="default vhost id" class="str mutable"/>


    <constant name="k url messenger" type="string" visibility="public">
        <value value="https://messenger.virgilsecurity.com"/>
    </constant>


    <constant name="k url contact discovery" type="string" visibility="public">
        <value value="https://disco.virgilsecurity.com"/>
    </constant>


    <constant name="k url ejabberd" type="string" visibility="public">
        <value value="xmpp.virgilsecurity.com"/>
    </constant>


    <constructor name="with">
        Create object with required fields.

        <argument name="messenger url" class="str"/>
        <argument name="contact discovery url" class="str"/>
        <argument name="ejabberd url" class="str"/>
    </constructor>


    <method name="set ca bundle">
        Set path to the custom CA bundle.

        <argument name="ca bundle" class="str"/>
    </method>


    <method name="set default vhost id">
        Set identifier of default virtual host.
        Note, if set then all new users will be registered on the virtual host.
        Note, if set then Contact Discovery will search only within this virtual host.

        <argument name="vhost id" class="str"/>
    </method>


    <method name="messenger url" is_const="1">
        Return URL of the Messenger backend (main service).

         <return class="str"/>
    </method>


    <method name="contact discovery url" is_const="1">
        Return URL of the Messenger Contact Discovery service.

         <return class="str"/>
    </method>


    <method name="ejabberd url" is_const="1">
        Return URL of the Messenger Ejabberd service.

         <return class="str"/>
    </method>


    <method name="ca bundle" is_const="1">
        Return path to the custom CA bundle.

         <return class="str"/>
    </method>


    <method name="default vhost id" is_const="1">
        Return default virtual host id if defined, empty string otherwise.

         <return class="str"/>
    </method>
</class>
